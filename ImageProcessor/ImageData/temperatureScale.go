package ImageData

import (
	"image/color"
)

// LUT from https://github.com/guidocioni/eumetsat-python/blob/master/IR4AVHRR6.cpt
var TemperatureScaleLUT = []color.Color{
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 127, G: 0, B: 127, A: 255},
	color.RGBA{R: 140, G: 13, B: 135, A: 255},
	color.RGBA{R: 153, G: 25, B: 142, A: 255},
	color.RGBA{R: 165, G: 38, B: 150, A: 255},
	color.RGBA{R: 178, G: 51, B: 157, A: 255},
	color.RGBA{R: 191, G: 64, B: 165, A: 255},
	color.RGBA{R: 204, G: 76, B: 173, A: 255},
	color.RGBA{R: 217, G: 89, B: 180, A: 255},
	color.RGBA{R: 229, G: 102, B: 188, A: 255},
	color.RGBA{R: 242, G: 114, B: 195, A: 255},
	color.RGBA{R: 255, G: 127, B: 203, A: 255},
	color.RGBA{R: 230, G: 230, B: 230, A: 255},
	color.RGBA{R: 205, G: 205, B: 205, A: 255},
	color.RGBA{R: 179, G: 179, B: 179, A: 255},
	color.RGBA{R: 154, G: 154, B: 154, A: 255},
	color.RGBA{R: 128, G: 128, B: 128, A: 255},
	color.RGBA{R: 103, G: 103, B: 103, A: 255},
	color.RGBA{R: 77, G: 77, B: 77, A: 255},
	color.RGBA{R: 52, G: 52, B: 52, A: 255},
	color.RGBA{R: 26, G: 26, B: 26, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 26, G: 0, B: 0, A: 255},
	color.RGBA{R: 51, G: 0, B: 0, A: 255},
	color.RGBA{R: 77, G: 0, B: 0, A: 255},
	color.RGBA{R: 102, G: 0, B: 0, A: 255},
	color.RGBA{R: 128, G: 0, B: 0, A: 255},
	color.RGBA{R: 153, G: 0, B: 0, A: 255},
	color.RGBA{R: 179, G: 0, B: 0, A: 255},
	color.RGBA{R: 204, G: 0, B: 0, A: 255},
	color.RGBA{R: 230, G: 0, B: 0, A: 255},
	color.RGBA{R: 255, G: 0, B: 0, A: 255},
	color.RGBA{R: 255, G: 26, B: 0, A: 255},
	color.RGBA{R: 255, G: 51, B: 0, A: 255},
	color.RGBA{R: 255, G: 77, B: 0, A: 255},
	color.RGBA{R: 255, G: 102, B: 0, A: 255},
	color.RGBA{R: 255, G: 128, B: 0, A: 255},
	color.RGBA{R: 255, G: 153, B: 0, A: 255},
	color.RGBA{R: 255, G: 179, B: 0, A: 255},
	color.RGBA{R: 255, G: 204, B: 0, A: 255},
	color.RGBA{R: 255, G: 230, B: 0, A: 255},
	color.RGBA{R: 255, G: 255, B: 0, A: 255},
	color.RGBA{R: 230, G: 255, B: 0, A: 255},
	color.RGBA{R: 204, G: 255, B: 0, A: 255},
	color.RGBA{R: 179, G: 255, B: 0, A: 255},
	color.RGBA{R: 153, G: 255, B: 0, A: 255},
	color.RGBA{R: 128, G: 255, B: 0, A: 255},
	color.RGBA{R: 102, G: 255, B: 0, A: 255},
	color.RGBA{R: 77, G: 255, B: 0, A: 255},
	color.RGBA{R: 51, G: 255, B: 0, A: 255},
	color.RGBA{R: 26, G: 255, B: 0, A: 255},
	color.RGBA{R: 0, G: 255, B: 0, A: 255},
	color.RGBA{R: 0, G: 234, B: 10, A: 255},
	color.RGBA{R: 0, G: 213, B: 19, A: 255},
	color.RGBA{R: 0, G: 191, B: 29, A: 255},
	color.RGBA{R: 0, G: 170, B: 38, A: 255},
	color.RGBA{R: 0, G: 149, B: 48, A: 255},
	color.RGBA{R: 0, G: 128, B: 58, A: 255},
	color.RGBA{R: 0, G: 106, B: 67, A: 255},
	color.RGBA{R: 0, G: 85, B: 77, A: 255},
	color.RGBA{R: 0, G: 64, B: 86, A: 255},
	color.RGBA{R: 0, G: 43, B: 96, A: 255},
	color.RGBA{R: 0, G: 21, B: 105, A: 255},
	color.RGBA{R: 0, G: 0, B: 115, A: 255},
	color.RGBA{R: 0, G: 0, B: 115, A: 255},
	color.RGBA{R: 0, G: 13, B: 122, A: 255},
	color.RGBA{R: 0, G: 26, B: 129, A: 255},
	color.RGBA{R: 0, G: 38, B: 136, A: 255},
	color.RGBA{R: 0, G: 51, B: 143, A: 255},
	color.RGBA{R: 0, G: 64, B: 150, A: 255},
	color.RGBA{R: 0, G: 77, B: 157, A: 255},
	color.RGBA{R: 0, G: 89, B: 164, A: 255},
	color.RGBA{R: 0, G: 102, B: 171, A: 255},
	color.RGBA{R: 0, G: 115, B: 178, A: 255},
	color.RGBA{R: 0, G: 128, B: 185, A: 255},
	color.RGBA{R: 0, G: 140, B: 192, A: 255},
	color.RGBA{R: 0, G: 153, B: 199, A: 255},
	color.RGBA{R: 0, G: 166, B: 206, A: 255},
	color.RGBA{R: 0, G: 179, B: 213, A: 255},
	color.RGBA{R: 0, G: 191, B: 220, A: 255},
	color.RGBA{R: 0, G: 204, B: 227, A: 255},
	color.RGBA{R: 0, G: 217, B: 234, A: 255},
	color.RGBA{R: 0, G: 230, B: 241, A: 255},
	color.RGBA{R: 0, G: 242, B: 248, A: 255},
	color.RGBA{R: 0, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 255, G: 255, B: 255, A: 255},
	color.RGBA{R: 254, G: 254, B: 254, A: 255},
	color.RGBA{R: 252, G: 252, B: 252, A: 255},
	color.RGBA{R: 249, G: 249, B: 249, A: 255},
	color.RGBA{R: 247, G: 247, B: 247, A: 255},
	color.RGBA{R: 244, G: 244, B: 244, A: 255},
	color.RGBA{R: 242, G: 242, B: 242, A: 255},
	color.RGBA{R: 239, G: 239, B: 239, A: 255},
	color.RGBA{R: 237, G: 237, B: 237, A: 255},
	color.RGBA{R: 234, G: 234, B: 234, A: 255},
	color.RGBA{R: 232, G: 232, B: 232, A: 255},
	color.RGBA{R: 229, G: 229, B: 229, A: 255},
	color.RGBA{R: 226, G: 226, B: 226, A: 255},
	color.RGBA{R: 224, G: 224, B: 224, A: 255},
	color.RGBA{R: 221, G: 221, B: 221, A: 255},
	color.RGBA{R: 219, G: 219, B: 219, A: 255},
	color.RGBA{R: 216, G: 216, B: 216, A: 255},
	color.RGBA{R: 214, G: 214, B: 214, A: 255},
	color.RGBA{R: 211, G: 211, B: 211, A: 255},
	color.RGBA{R: 209, G: 209, B: 209, A: 255},
	color.RGBA{R: 206, G: 206, B: 206, A: 255},
	color.RGBA{R: 203, G: 203, B: 203, A: 255},
	color.RGBA{R: 201, G: 201, B: 201, A: 255},
	color.RGBA{R: 198, G: 198, B: 198, A: 255},
	color.RGBA{R: 196, G: 196, B: 196, A: 255},
	color.RGBA{R: 193, G: 193, B: 193, A: 255},
	color.RGBA{R: 191, G: 191, B: 191, A: 255},
	color.RGBA{R: 188, G: 188, B: 188, A: 255},
	color.RGBA{R: 186, G: 186, B: 186, A: 255},
	color.RGBA{R: 183, G: 183, B: 183, A: 255},
	color.RGBA{R: 181, G: 181, B: 181, A: 255},
	color.RGBA{R: 178, G: 178, B: 178, A: 255},
	color.RGBA{R: 175, G: 175, B: 175, A: 255},
	color.RGBA{R: 173, G: 173, B: 173, A: 255},
	color.RGBA{R: 170, G: 170, B: 170, A: 255},
	color.RGBA{R: 168, G: 168, B: 168, A: 255},
	color.RGBA{R: 165, G: 165, B: 165, A: 255},
	color.RGBA{R: 163, G: 163, B: 163, A: 255},
	color.RGBA{R: 160, G: 160, B: 160, A: 255},
	color.RGBA{R: 158, G: 158, B: 158, A: 255},
	color.RGBA{R: 155, G: 155, B: 155, A: 255},
	color.RGBA{R: 152, G: 152, B: 152, A: 255},
	color.RGBA{R: 150, G: 150, B: 150, A: 255},
	color.RGBA{R: 147, G: 147, B: 147, A: 255},
	color.RGBA{R: 145, G: 145, B: 145, A: 255},
	color.RGBA{R: 142, G: 142, B: 142, A: 255},
	color.RGBA{R: 140, G: 140, B: 140, A: 255},
	color.RGBA{R: 137, G: 137, B: 137, A: 255},
	color.RGBA{R: 135, G: 135, B: 135, A: 255},
	color.RGBA{R: 132, G: 132, B: 132, A: 255},
	color.RGBA{R: 130, G: 130, B: 130, A: 255},
	color.RGBA{R: 127, G: 127, B: 127, A: 255},
	color.RGBA{R: 124, G: 124, B: 124, A: 255},
	color.RGBA{R: 122, G: 122, B: 122, A: 255},
	color.RGBA{R: 119, G: 119, B: 119, A: 255},
	color.RGBA{R: 117, G: 117, B: 117, A: 255},
	color.RGBA{R: 114, G: 114, B: 114, A: 255},
	color.RGBA{R: 112, G: 112, B: 112, A: 255},
	color.RGBA{R: 109, G: 109, B: 109, A: 255},
	color.RGBA{R: 107, G: 107, B: 107, A: 255},
	color.RGBA{R: 104, G: 104, B: 104, A: 255},
	color.RGBA{R: 101, G: 101, B: 101, A: 255},
	color.RGBA{R: 99, G: 99, B: 99, A: 255},
	color.RGBA{R: 96, G: 96, B: 96, A: 255},
	color.RGBA{R: 94, G: 94, B: 94, A: 255},
	color.RGBA{R: 91, G: 91, B: 91, A: 255},
	color.RGBA{R: 89, G: 89, B: 89, A: 255},
	color.RGBA{R: 86, G: 86, B: 86, A: 255},
	color.RGBA{R: 84, G: 84, B: 84, A: 255},
	color.RGBA{R: 81, G: 81, B: 81, A: 255},
	color.RGBA{R: 79, G: 79, B: 79, A: 255},
	color.RGBA{R: 76, G: 76, B: 76, A: 255},
	color.RGBA{R: 73, G: 73, B: 73, A: 255},
	color.RGBA{R: 71, G: 71, B: 71, A: 255},
	color.RGBA{R: 68, G: 68, B: 68, A: 255},
	color.RGBA{R: 66, G: 66, B: 66, A: 255},
	color.RGBA{R: 63, G: 63, B: 63, A: 255},
	color.RGBA{R: 61, G: 61, B: 61, A: 255},
	color.RGBA{R: 58, G: 58, B: 58, A: 255},
	color.RGBA{R: 56, G: 56, B: 56, A: 255},
	color.RGBA{R: 53, G: 53, B: 53, A: 255},
	color.RGBA{R: 50, G: 50, B: 50, A: 255},
	color.RGBA{R: 48, G: 48, B: 48, A: 255},
	color.RGBA{R: 45, G: 45, B: 45, A: 255},
	color.RGBA{R: 43, G: 43, B: 43, A: 255},
	color.RGBA{R: 40, G: 40, B: 40, A: 255},
	color.RGBA{R: 38, G: 38, B: 38, A: 255},
	color.RGBA{R: 35, G: 35, B: 35, A: 255},
	color.RGBA{R: 33, G: 33, B: 33, A: 255},
	color.RGBA{R: 30, G: 30, B: 30, A: 255},
	color.RGBA{R: 28, G: 28, B: 28, A: 255},
	color.RGBA{R: 25, G: 25, B: 25, A: 255},
	color.RGBA{R: 22, G: 22, B: 22, A: 255},
	color.RGBA{R: 20, G: 20, B: 20, A: 255},
	color.RGBA{R: 17, G: 17, B: 17, A: 255},
	color.RGBA{R: 15, G: 15, B: 15, A: 255},
	color.RGBA{R: 12, G: 12, B: 12, A: 255},
	color.RGBA{R: 10, G: 10, B: 10, A: 255},
	color.RGBA{R: 07, G: 07, B: 07, A: 255},
	color.RGBA{R: 05, G: 05, B: 05, A: 255},
	color.RGBA{R: 02, G: 02, B: 02, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
	color.RGBA{R: 0, G: 0, B: 0, A: 255},
}

const minV = 173 // Kelvin
const scaleFact = 256.0 / (340 - minV)

func ScaleLutToColor(minV, scaleFact float32, baseLut []float32, colorLut []color.Color) []color.Color {
	out := make([]color.Color, len(baseLut))
	for i := 0; i < len(baseLut); i++ {
		v := (baseLut[i] - minV) * scaleFact
		if v < 0 {
			v = 0
		}
		if v > 255 {
			v = 255
		}
		out[i] = colorLut[int(v)]
	}
	return out
}
